@page "/signup"
@layout LoginLayout
@using System.ComponentModel.DataAnnotations

<div class="signup">
    <div class="signup__header">
        <img src="images/auth_logo.png" alt="Dine Master Logo" class="signup__header-logo" />
        <h2 class="signup__header-heading">Create an account</h2>
        <p class="signup__header-link">Already have an account? <a href="/signin" class="signup__header-link--text">Log in</a></p>
    </div>

    <EditForm Model="@signupModel" OnValidSubmit="@HandleSignup" class="signup__form">
        <DataAnnotationsValidator />

        <div class="signup__form-input-group">
            <label for="fullName" class="signup__form-label">Full Name</label>
            <InputText @bind-Value="signupModel.FullName" id="fullName" class="signup__form-input" placeholder="Enter your full name" />
            <ValidationMessage For="@(() => signupModel.FullName)" class="signup__form-validation-message" />
        </div>

        <div class="signup__form-input-group">
            <label for="email" class="signup__form-label">Email</label>
            <InputText @bind-Value="signupModel.Email" id="email" class="signup__form-input" placeholder="Enter your email" />
            <ValidationMessage For="@(() => signupModel.Email)" class="signup__form-validation-message" />
        </div>

        <div class="signup__form-input-group">
            <label for="password" class="signup__form-label">Password</label>
            <InputText @bind-Value="signupModel.Password" type="password" id="password" class="signup__form-input" placeholder="Enter your password" />
            <ValidationMessage For="@(() => signupModel.Password)" class="signup__form-validation-message" />
        </div>

        <div class="signup__form-input-group">
            <label for="confirmPassword" class="signup__form-label">Confirm Password</label>
            <InputText @bind-Value="signupModel.ConfirmPassword" type="password" id="confirmPassword" class="signup__form-input" placeholder="Confirm your password" />
            <ValidationMessage For="@(() => signupModel.ConfirmPassword)" class="signup__form-validation-message" />
        </div>

        <button type="submit" class="signup__form-button">Create account</button>
    </EditForm>
</div>

@code {
    private SignupModel signupModel = new SignupModel();

    private void HandleSignup()
    {
        // Handle signup logic here
    }

    public class SignupModel
    {
        [Required(ErrorMessage = "Full Name is required")]
        public string FullName { get; set; }

        [Required(ErrorMessage = "Email is required")]
        [EmailAddress(ErrorMessage = "Please enter a valid email address")]
        public string Email { get; set; }

        [Required(ErrorMessage = "Password is required")]
        [MinLength(8, ErrorMessage = "Password must be at least 8 characters long")]
        public string Password { get; set; }

        [Required(ErrorMessage = "Confirm Password is required")]
        [Compare("Password", ErrorMessage = "Passwords do not match")]
        public string ConfirmPassword { get; set; }
    }
}
