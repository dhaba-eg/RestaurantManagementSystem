@page "/forgot-password"
@layout LoginLayout
@using System.ComponentModel.DataAnnotations

<div class="forgot-password">
    <div class="forgot-password__header">
        <img src="images/auth_logo.png" alt="Dine Master Logo" class="forgot-password__header-logo" />
        <h2 class="forgot-password__header-heading">Forgot password?</h2>
        <p class="forgot-password__header-description">No worries, we’ll send you reset instructions</p>
    </div>

    <EditForm Model="@forgotPasswordModel" OnValidSubmit="@HandleForgotPassword" class="forgot-password__form">
        <DataAnnotationsValidator />

        <div class="forgot-password__form-input-group">
            <label for="email" class="forgot-password__form-label">Email</label>
            <InputText @bind-Value="forgotPasswordModel.Email" id="email" class="forgot-password__form-input" placeholder="Enter your email" />
            <ValidationMessage For="@(() => forgotPasswordModel.Email)" class="forgot-password__form-validation-message" />
        </div>

        <button type="submit" class="forgot-password__form-button">Reset password</button>
    </EditForm>

    <div class="forgot-password__link">
        <a href="/signin" class="forgot-password__link--text">← Back to log in</a>
    </div>
</div>

@code {
    private ForgotPasswordModel forgotPasswordModel = new ForgotPasswordModel();

    private void HandleForgotPassword()
    {
        // Handle forgot password logic here (e.g., sending reset email)
    }

    public class ForgotPasswordModel
    {
        [Required(ErrorMessage = "Email is required")]
        [EmailAddress(ErrorMessage = "Please enter a valid email address")]
        public string Email { get; set; }
    }
}
